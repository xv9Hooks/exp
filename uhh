--[[
    ProUI Library v2.0
    Profesyonel Executor UI Kütüphanesi
]]

local ProUI = {}
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")

-- Tema Ayarları
local Theme = {
    Primary = Color3.fromRGB(25, 25, 35),
    Secondary = Color3.fromRGB(30, 30, 45),
    Accent = Color3.fromRGB(100, 70, 255),
    AccentDark = Color3.fromRGB(80, 50, 200),
    Text = Color3.fromRGB(255, 255, 255),
    TextDark = Color3.fromRGB(180, 180, 180),
    Success = Color3.fromRGB(70, 200, 100),
    Error = Color3.fromRGB(255, 70, 70),
    Warning = Color3.fromRGB(255, 180, 50),
    Border = Color3.fromRGB(50, 50, 70),
    Toggle = Color3.fromRGB(40, 40, 60)
}

-- Utility Fonksiyonları
local function Create(class, properties)
    local instance = Instance.new(class)
    for prop, value in pairs(properties) do
        if prop ~= "Parent" then
            instance[prop] = value
        end
    end
    if properties.Parent then
        instance.Parent = properties.Parent
    end
    return instance
end

local function Tween(instance, properties, duration, style, direction)
    local tween = TweenService:Create(
        instance,
        TweenInfo.new(duration or 0.3, style or Enum.EasingStyle.Quart, direction or Enum.EasingDirection.Out),
        properties
    )
    tween:Play()
    return tween
end

local function AddCorner(parent, radius)
    return Create("UICorner", {
        CornerRadius = UDim.new(0, radius or 6),
        Parent = parent
    })
end

local function AddStroke(parent, color, thickness)
    return Create("UIStroke", {
        Color = color or Theme.Border,
        Thickness = thickness or 1,
        Parent = parent
    })
end

local function AddPadding(parent, padding)
    return Create("UIPadding", {
        PaddingTop = UDim.new(0, padding),
        PaddingBottom = UDim.new(0, padding),
        PaddingLeft = UDim.new(0, padding),
        PaddingRight = UDim.new(0, padding),
        Parent = parent
    })
end

local function Ripple(button)
    local ripple = Create("Frame", {
        Name = "Ripple",
        AnchorPoint = Vector2.new(0.5, 0.5),
        BackgroundColor3 = Color3.fromRGB(255, 255, 255),
        BackgroundTransparency = 0.7,
        Position = UDim2.new(0.5, 0, 0.5, 0),
        Size = UDim2.new(0, 0, 0, 0),
        Parent = button
    })
    AddCorner(ripple, 100)
    
    local size = math.max(button.AbsoluteSize.X, button.AbsoluteSize.Y) * 2
    Tween(ripple, {Size = UDim2.new(0, size, 0, size), BackgroundTransparency = 1}, 0.5)
    
    task.delay(0.5, function()
        ripple:Destroy()
    end)
end

-- Ana Kütüphane
function ProUI:CreateWindow(config)
    config = config or {}
    local windowName = config.Name or "ProUI Window"
    local windowSize = config.Size or UDim2.new(0, 550, 0, 380)
    local loadingTitle = config.LoadingTitle or "ProUI"
    local loadingSubtitle = config.LoadingSubtitle or "Yükleniyor..."
    
    -- Ana GUI
    local ScreenGui = Create("ScreenGui", {
        Name = "ProUI_" .. tostring(math.random(1000, 9999)),
        ResetOnSpawn = false,
        ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    })
    
    -- Syn/Fluxus/Krnl desteği
    if syn then
        syn.protect_gui(ScreenGui)
        ScreenGui.Parent = CoreGui
    elseif gethui then
        ScreenGui.Parent = gethui()
    elseif KRNL_LOADED then
        ScreenGui.Parent = CoreGui
    else
        ScreenGui.Parent = CoreGui
    end
    
    -- Loading Screen
    local LoadingFrame = Create("Frame", {
        Name = "LoadingFrame",
        AnchorPoint = Vector2.new(0.5, 0.5),
        BackgroundColor3 = Theme.Primary,
        Position = UDim2.new(0.5, 0, 0.5, 0),
        Size = UDim2.new(0, 300, 0, 150),
        Parent = ScreenGui
    })
    AddCorner(LoadingFrame, 10)
    AddStroke(LoadingFrame, Theme.Accent, 2)
    
    local LoadingTitle = Create("TextLabel", {
        Name = "Title",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 0, 0.15, 0),
        Size = UDim2.new(1, 0, 0, 30),
        Font = Enum.Font.GothamBold,
        Text = loadingTitle,
        TextColor3 = Theme.Accent,
        TextSize = 24,
        Parent = LoadingFrame
    })
    
    local LoadingSubtitle = Create("TextLabel", {
        Name = "Subtitle",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 0, 0.4, 0),
        Size = UDim2.new(1, 0, 0, 20),
        Font = Enum.Font.Gotham,
        Text = loadingSubtitle,
        TextColor3 = Theme.TextDark,
        TextSize = 14,
        Parent = LoadingFrame
    })
    
    local LoadingBarBG = Create("Frame", {
        Name = "LoadingBarBG",
        AnchorPoint = Vector2.new(0.5, 0),
        BackgroundColor3 = Theme.Secondary,
        Position = UDim2.new(0.5, 0, 0.7, 0),
        Size = UDim2.new(0.8, 0, 0, 6),
        Parent = LoadingFrame
    })
    AddCorner(LoadingBarBG, 3)
    
    local LoadingBar = Create("Frame", {
        Name = "LoadingBar",
        BackgroundColor3 = Theme.Accent,
        Size = UDim2.new(0, 0, 1, 0),
        Parent = LoadingBarBG
    })
    AddCorner(LoadingBar, 3)
    
    -- Loading Animasyonu
    Tween(LoadingBar, {Size = UDim2.new(1, 0, 1, 0)}, 2.5, Enum.EasingStyle.Quart)
    
    task.wait(2.5)
    Tween(LoadingFrame, {BackgroundTransparency = 1}, 0.5)
    Tween(LoadingTitle, {TextTransparency = 1}, 0.5)
    Tween(LoadingSubtitle, {TextTransparency = 1}, 0.5)
    Tween(LoadingBarBG, {BackgroundTransparency = 1}, 0.5)
    Tween(LoadingBar, {BackgroundTransparency = 1}, 0.5)
    task.wait(0.5)
    LoadingFrame:Destroy()
    
    -- Ana Pencere
    local MainFrame = Create("Frame", {
        Name = "MainFrame",
        AnchorPoint = Vector2.new(0.5, 0.5),
        BackgroundColor3 = Theme.Primary,
        Position = UDim2.new(0.5, 0, 0.5, 0),
        Size = UDim2.new(0, 0, 0, 0),
        ClipsDescendants = true,
        Parent = ScreenGui
    })
    AddCorner(MainFrame, 10)
    AddStroke(MainFrame, Theme.Border, 1)
    
    -- Gölge
    local Shadow = Create("ImageLabel", {
        Name = "Shadow",
        AnchorPoint = Vector2.new(0.5, 0.5),
        BackgroundTransparency = 1,
        Position = UDim2.new(0.5, 0, 0.5, 4),
        Size = UDim2.new(1, 30, 1, 30),
        Image = "rbxassetid://6014261993",
        ImageColor3 = Color3.fromRGB(0, 0, 0),
        ImageTransparency = 0.5,
        ScaleType = Enum.ScaleType.Slice,
        SliceCenter = Rect.new(49, 49, 450, 450),
        ZIndex = -1,
        Parent = MainFrame
    })
    
    -- Açılış Animasyonu
    Tween(MainFrame, {Size = windowSize}, 0.6, Enum.EasingStyle.Back)
    task.wait(0.6)
    
    -- Başlık Çubuğu
    local TopBar = Create("Frame", {
        Name = "TopBar",
        BackgroundColor3 = Theme.Secondary,
        Size = UDim2.new(1, 0, 0, 40),
        Parent = MainFrame
    })
    AddCorner(TopBar, 10)
    
    local TopBarFix = Create("Frame", {
        Name = "Fix",
        BackgroundColor3 = Theme.Secondary,
        Position = UDim2.new(0, 0, 0.5, 0),
        Size = UDim2.new(1, 0, 0.5, 0),
        BorderSizePixel = 0,
        Parent = TopBar
    })
    
    -- Logo
    local Logo = Create("TextLabel", {
        Name = "Logo",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 15, 0, 0),
        Size = UDim2.new(0, 30, 1, 0),
        Font = Enum.Font.GothamBold,
        Text = "◆",
        TextColor3 = Theme.Accent,
        TextSize = 20,
        Parent = TopBar
    })
    
    local Title = Create("TextLabel", {
        Name = "Title",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 45, 0, 0),
        Size = UDim2.new(0, 200, 1, 0),
        Font = Enum.Font.GothamBold,
        Text = windowName,
        TextColor3 = Theme.Text,
        TextSize = 14,
        TextXAlignment = Enum.TextXAlignment.Left,
        Parent = TopBar
    })
    
    -- Kontrol Butonları
    local CloseBtn = Create("TextButton", {
        Name = "CloseBtn",
        BackgroundColor3 = Theme.Error,
        Position = UDim2.new(1, -35, 0.5, -8),
        Size = UDim2.new(0, 16, 0, 16),
        Text = "",
        AutoButtonColor = false,
        Parent = TopBar
    })
    AddCorner(CloseBtn, 8)
    
    local MinimizeBtn = Create("TextButton", {
        Name = "MinimizeBtn",
        BackgroundColor3 = Theme.Warning,
        Position = UDim2.new(1, -60, 0.5, -8),
        Size = UDim2.new(0, 16, 0, 16),
        Text = "",
        AutoButtonColor = false,
        Parent = TopBar
    })
    AddCorner(MinimizeBtn, 8)
    
    -- Buton Olayları
    CloseBtn.MouseEnter:Connect(function()
        Tween(CloseBtn, {BackgroundColor3 = Color3.fromRGB(255, 100, 100)}, 0.2)
    end)
    CloseBtn.MouseLeave:Connect(function()
        Tween(CloseBtn, {BackgroundColor3 = Theme.Error}, 0.2)
    end)
    CloseBtn.MouseButton1Click:Connect(function()
        Tween(MainFrame, {Size = UDim2.new(0, 0, 0, 0)}, 0.5, Enum.EasingStyle.Back, Enum.EasingDirection.In)
        task.wait(0.5)
        ScreenGui:Destroy()
    end)
    
    local minimized = false
    MinimizeBtn.MouseButton1Click:Connect(function()
        minimized = not minimized
        if minimized then
            Tween(MainFrame, {Size = UDim2.new(0, windowSize.X.Offset, 0, 40)}, 0.3)
        else
            Tween(MainFrame, {Size = windowSize}, 0.3)
        end
    end)
    
    -- Sürükle
    local dragging, dragInput, dragStart, startPos
    
    TopBar.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = MainFrame.Position
        end
    end)
    
    TopBar.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local delta = input.Position - dragStart
            MainFrame.Position = UDim2.new(
                startPos.X.Scale,
                startPos.X.Offset + delta.X,
                startPos.Y.Scale,
                startPos.Y.Offset + delta.Y
            )
        end
    end)
    
    -- Tab Container
    local TabContainer = Create("Frame", {
        Name = "TabContainer",
        BackgroundColor3 = Theme.Secondary,
        Position = UDim2.new(0, 0, 0, 40),
        Size = UDim2.new(0, 140, 1, -40),
        BorderSizePixel = 0,
        Parent = MainFrame
    })
    
    local TabList = Create("ScrollingFrame", {
        Name = "TabList",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 0, 0, 10),
        Size = UDim2.new(1, 0, 1, -20),
        ScrollBarThickness = 2,
        ScrollBarImageColor3 = Theme.Accent,
        CanvasSize = UDim2.new(0, 0, 0, 0),
        Parent = TabContainer
    })
    
    local TabListLayout = Create("UIListLayout", {
        Padding = UDim.new(0, 5),
        HorizontalAlignment = Enum.HorizontalAlignment.Center,
        Parent = TabList
    })
    AddPadding(TabList, 5)
    
    -- Content Container
    local ContentContainer = Create("Frame", {
        Name = "ContentContainer",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 145, 0, 45),
        Size = UDim2.new(1, -155, 1, -55),
        Parent = MainFrame
    })
    
    -- Window Object
    local Window = {}
    Window.Tabs = {}
    Window.ActiveTab = nil
    
    -- Notification Sistemi
    function Window:Notify(config)
        config = config or {}
        local title = config.Title or "Bildirim"
        local content = config.Content or ""
        local duration = config.Duration or 5
        local notifType = config.Type or "Info"
        
        local typeColors = {
            Info = Theme.Accent,
            Success = Theme.Success,
            Warning = Theme.Warning,
            Error = Theme.Error
        }
        
        local NotifFrame = Create("Frame", {
            Name = "Notification",
            AnchorPoint = Vector2.new(1, 1),
            BackgroundColor3 = Theme.Primary,
            Position = UDim2.new(1, -20, 1, -20 - (#ScreenGui:GetChildren() - 2) * 80),
            Size = UDim2.new(0, 280, 0, 70),
            Parent = ScreenGui
        })
        AddCorner(NotifFrame, 8)
        AddStroke(NotifFrame, typeColors[notifType], 2)
        
        local NotifAccent = Create("Frame", {
            BackgroundColor3 = typeColors[notifType],
            Size = UDim2.new(0, 4, 1, -20),
            Position = UDim2.new(0, 10, 0, 10),
            Parent = NotifFrame
        })
        AddCorner(NotifAccent, 2)
        
        local NotifTitle = Create("TextLabel", {
            BackgroundTransparency = 1,
            Position = UDim2.new(0, 25, 0, 8),
            Size = UDim2.new(1, -35, 0, 20),
            Font = Enum.Font.GothamBold,
            Text = title,
            TextColor3 = Theme.Text,
            TextSize = 14,
            TextXAlignment = Enum.TextXAlignment.Left,
            Parent = NotifFrame
        })
        
        local NotifContent = Create("TextLabel", {
            BackgroundTransparency = 1,
            Position = UDim2.new(0, 25, 0, 30),
            Size = UDim2.new(1, -35, 0, 30),
            Font = Enum.Font.Gotham,
            Text = content,
            TextColor3 = Theme.TextDark,
            TextSize = 12,
            TextXAlignment = Enum.TextXAlignment.Left,
            TextWrapped = true,
            Parent = NotifFrame
        })
        
        -- Animasyon
        NotifFrame.Position = UDim2.new(1, 300, 1, -20)
        Tween(NotifFrame, {Position = UDim2.new(1, -20, 1, -20)}, 0.5, Enum.EasingStyle.Back)
        
        task.delay(duration, function()
            Tween(NotifFrame, {Position = UDim2.new(1, 300, 1, -20)}, 0.5)
            task.wait(0.5)
            NotifFrame:Destroy()
        end)
    end
    
    -- Tab Oluşturma
    function Window:CreateTab(config)
        config = config or {}
        local tabName = config.Name or "Tab"
        local tabIcon = config.Icon or "rbxassetid://7733960981"
        
        local Tab = {}
        
        -- Tab Butonu
        local TabButton = Create("TextButton", {
            Name = tabName,
            BackgroundColor3 = Theme.Primary,
            BackgroundTransparency = 1,
            Size = UDim2.new(1, -10, 0, 35),
            Font = Enum.Font.Gotham,
            Text = "",
            AutoButtonColor = false,
            Parent = TabList
        })
        AddCorner(TabButton, 6)
        
        local TabIcon = Create("ImageLabel", {
            BackgroundTransparency = 1,
            Position = UDim2.new(0, 10, 0.5, -10),
            Size = UDim2.new(0, 20, 0, 20),
            Image = tabIcon,
            ImageColor3 = Theme.TextDark,
            Parent = TabButton
        })
        
        local TabLabel = Create("TextLabel", {
            BackgroundTransparency = 1,
            Position = UDim2.new(0, 38, 0, 0),
            Size = UDim2.new(1, -45, 1, 0),
            Font = Enum.Font.Gotham,
            Text = tabName,
            TextColor3 = Theme.TextDark,
            TextSize = 13,
            TextXAlignment = Enum.TextXAlignment.Left,
            Parent = TabButton
        })
        
        -- Tab İçeriği
        local TabContent = Create("ScrollingFrame", {
            Name = tabName .. "_Content",
            BackgroundTransparency = 1,
            Size = UDim2.new(1, 0, 1, 0),
            ScrollBarThickness = 3,
            ScrollBarImageColor3 = Theme.Accent,
            CanvasSize = UDim2.new(0, 0, 0, 0),
            Visible = false,
            Parent = ContentContainer
        })
        
        local ContentLayout = Create("UIListLayout", {
            Padding = UDim.new(0, 8),
            Parent = TabContent
        })
        AddPadding(TabContent, 5)
        
        ContentLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
            TabContent.CanvasSize = UDim2.new(0, 0, 0, ContentLayout.AbsoluteContentSize.Y + 20)
        end)
        
        -- Tab Seçimi
        local function SelectTab()
            for _, t in pairs(Window.Tabs) do
                t.Content.Visible = false
                Tween(t.Button, {BackgroundTransparency = 1}, 0.2)
                Tween(t.Icon, {ImageColor3 = Theme.TextDark}, 0.2)
                Tween(t.Label, {TextColor3 = Theme.TextDark}, 0.2)
            end
            
            TabContent.Visible = true
            Tween(TabButton, {BackgroundTransparency = 0}, 0.2)
            Tween(TabIcon, {ImageColor3 = Theme.Accent}, 0.2)
            Tween(TabLabel, {TextColor3 = Theme.Text}, 0.2)
            Window.ActiveTab = Tab
        end
        
        TabButton.MouseButton1Click:Connect(SelectTab)
        
        TabButton.MouseEnter:Connect(function()
            if Window.ActiveTab ~= Tab then
                Tween(TabButton, {BackgroundTransparency = 0.5}, 0.2)
            end
        end)
        
        TabButton.MouseLeave:Connect(function()
            if Window.ActiveTab ~= Tab then
                Tween(TabButton, {BackgroundTransparency = 1}, 0.2)
            end
        end)
        
        Tab.Button = TabButton
        Tab.Content = TabContent
        Tab.Icon = TabIcon
        Tab.Label = TabLabel
        
        -- Section Oluşturma
        function Tab:CreateSection(name)
            local Section = Create("Frame", {
                Name = name or "Section",
                BackgroundColor3 = Theme.Secondary,
                Size = UDim2.new(1, 0, 0, 30),
                Parent = TabContent
            })
            AddCorner(Section, 6)
            
            local SectionTitle = Create("TextLabel", {
                BackgroundTransparency = 1,
                Position = UDim2.new(0, 10, 0, 0),
                Size = UDim2.new(1, -20, 1, 0),
                Font = Enum.Font.GothamBold,
                Text = name or "Section",
                TextColor3 = Theme.Accent,
                TextSize = 12,
                TextXAlignment = Enum.TextXAlignment.Left,
                Parent = Section
            })
            
            return Section
        end
        
        -- Button Oluşturma
        function Tab:CreateButton(config)
            config = config or {}
            local buttonName = config.Name or "Button"
            local callback = config.Callback or function() end
            
            local ButtonFrame = Create("Frame", {
                Name = buttonName,
                BackgroundColor3 = Theme.Secondary,
                Size = UDim2.new(1, 0, 0, 38),
                Parent = TabContent
            })
            AddCorner(ButtonFrame, 6)
            
            local Button = Create("TextButton", {
                Name = "Button",
                BackgroundColor3 = Theme.Accent,
                Position = UDim2.new(1, -80, 0.5, -13),
                Size = UDim2.new(0, 70, 0, 26),
                Font = Enum.Font.GothamBold,
                Text = "Çalıştır",
                TextColor3 = Theme.Text,
                TextSize = 11,
                AutoButtonColor = false,
                ClipsDescendants = true,
                Parent = ButtonFrame
            })
            AddCorner(Button, 4)
            
            local ButtonLabel = Create("TextLabel", {
                BackgroundTransparency = 1,
                Position = UDim2.new(0, 12, 0, 0),
                Size = UDim2.new(1, -100, 1, 0),
                Font = Enum.Font.Gotham,
                Text = buttonName,
                TextColor3 = Theme.Text,
                TextSize = 13,
                TextXAlignment = Enum.TextXAlignment.Left,
                Parent = ButtonFrame
            })
            
            Button.MouseEnter:Connect(function()
                Tween(Button, {BackgroundColor3 = Theme.AccentDark}, 0.2)
            end)
            
            Button.MouseLeave:Connect(function()
                Tween(Button, {BackgroundColor3 = Theme.Accent}, 0.2)
            end)
            
            Button.MouseButton1Click:Connect(function()
                Ripple(Button)
                pcall(callback)
            end)
            
            return ButtonFrame
        end
        
        -- Toggle Oluşturma
        function Tab:CreateToggle(config)
            config = config or {}
            local toggleName = config.Name or "Toggle"
            local default = config.Default or false
            local callback = config.Callback or function() end
            
            local toggled = default
            
            local ToggleFrame = Create("Frame", {
                Name = toggleName,
                BackgroundColor3 = Theme.Secondary,
                Size = UDim2.new(1, 0, 0, 38),
                Parent = TabContent
            })
            AddCorner(ToggleFrame, 6)
            
            local ToggleLabel = Create("TextLabel", {
                BackgroundTransparency = 1,
                Position = UDim2.new(0, 12, 0, 0),
                Size = UDim2.new(1, -70, 1, 0),
                Font = Enum.Font.Gotham,
                Text = toggleName,
                TextColor3 = Theme.Text,
                TextSize = 13,
                TextXAlignment = Enum.TextXAlignment.Left,
                Parent = ToggleFrame
            })
            
            local ToggleBG = Create("TextButton", {
                Name = "ToggleBG",
                BackgroundColor3 = Theme.Toggle,
                Position = UDim2.new(1, -55, 0.5, -11),
                Size = UDim2.new(0, 44, 0, 22),
                Text = "",
                AutoButtonColor = false,
                Parent = ToggleFrame
            })
            AddCorner(ToggleBG, 11)
            
            local ToggleIndicator = Create("Frame", {
                Name = "Indicator",
                BackgroundColor3 = Theme.TextDark,
                Position = UDim2.new(0, 3, 0.5, -8),
                Size = UDim2.new(0, 16, 0, 16),
                Parent = ToggleBG
            })
            AddCorner(ToggleIndicator, 8)
            
            local function UpdateToggle()
                if toggled then
                    Tween(ToggleBG, {BackgroundColor3 = Theme.Accent}, 0.2)
                    Tween(ToggleIndicator, {
                        Position = UDim2.new(1, -19, 0.5, -8),
                        BackgroundColor3 = Theme.Text
                    }, 0.2)
                else
                    Tween(ToggleBG, {BackgroundColor3 = Theme.Toggle}, 0.2)
                    Tween(ToggleIndicator, {
                        Position = UDim2.new(0, 3, 0.5, -8),
                        BackgroundColor3 = Theme.TextDark
                    }, 0.2)
                end
                pcall(callback, toggled)
            end
            
            if default then UpdateToggle() end
            
            ToggleBG.MouseButton1Click:Connect(function()
                toggled = not toggled
                UpdateToggle()
            end)
            
            local ToggleObject = {}
            function ToggleObject:Set(value)
                toggled = value
                UpdateToggle()
            end
            
            return ToggleObject
        end
        
        -- Slider Oluşturma
        function Tab:CreateSlider(config)
            config = config or {}
            local sliderName = config.Name or "Slider"
            local min = config.Min or 0
            local max = config.Max or 100
            local default = config.Default or min
            local callback = config.Callback or function() end
            
            local SliderFrame = Create("Frame", {
                Name = sliderName,
                BackgroundColor3 = Theme.Secondary,
                Size = UDim2.new(1, 0, 0, 50),
                Parent = TabContent
            })
            AddCorner(SliderFrame, 6)
            
            local SliderLabel = Create("TextLabel", {
                BackgroundTransparency = 1,
                Position = UDim2.new(0, 12, 0, 5),
                Size = UDim2.new(1, -70, 0, 20),
                Font = Enum.Font.Gotham,
                Text = sliderName,
                TextColor3 = Theme.Text,
                TextSize = 13,
                TextXAlignment = Enum.TextXAlignment.Left,
                Parent = SliderFrame
            })
            
            local SliderValue = Create("TextLabel", {
                BackgroundTransparency = 1,
                Position = UDim2.new(1, -60, 0, 5),
                Size = UDim2.new(0, 50, 0, 20),
                Font = Enum.Font.GothamBold,
                Text = tostring(default),
                TextColor3 = Theme.Accent,
                TextSize = 13,
                TextXAlignment = Enum.TextXAlignment.Right,
                Parent = SliderFrame
            })
            
            local SliderBG = Create("Frame", {
                Name = "SliderBG",
                BackgroundColor3 = Theme.Toggle,
                Position = UDim2.new(0, 12, 0, 32),
                Size = UDim2.new(1, -24, 0, 6),
                Parent = SliderFrame
            })
            AddCorner(SliderBG, 3)
            
            local SliderFill = Create("Frame", {
                Name = "Fill",
                BackgroundColor3 = Theme.Accent,
                Size = UDim2.new((default - min) / (max - min), 0, 1, 0),
                Parent = SliderBG
            })
            AddCorner(SliderFill, 3)
            
            local SliderKnob = Create("Frame", {
                Name = "Knob",
                AnchorPoint = Vector2.new(0.5, 0.5),
                BackgroundColor3 = Theme.Text,
                Position = UDim2.new((default - min) / (max - min), 0, 0.5, 0),
                Size = UDim2.new(0, 14, 0, 14),
                Parent = SliderBG
            })
            AddCorner(SliderKnob, 7)
            
            local sliding = false
            
            local function UpdateSlider(input)
                local pos = math.clamp((input.Position.X - SliderBG.AbsolutePosition.X) / SliderBG.AbsoluteSize.X, 0, 1)
                local value = math.floor(min + (max - min) * pos)
                
                SliderValue.Text = tostring(value)
                Tween(SliderFill, {Size = UDim2.new(pos, 0, 1, 0)}, 0.1)
                Tween(SliderKnob, {Position = UDim2.new(pos, 0, 0.5, 0)}, 0.1)
                
                pcall(callback, value)
            end
            
            SliderBG.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    sliding = true
                    UpdateSlider(input)
                end
            end)
            
            SliderBG.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    sliding = false
                end
            end)
            
            UserInputService.InputChanged:Connect(function(input)
                if sliding and input.UserInputType == Enum.UserInputType.MouseMovement then
                    UpdateSlider(input)
                end
            end)
            
            local SliderObject = {}
            function SliderObject:Set(value)
                local pos = (value - min) / (max - min)
                SliderValue.Text = tostring(value)
                SliderFill.Size = UDim2.new(pos, 0, 1, 0)
                SliderKnob.Position = UDim2.new(pos, 0, 0.5, 0)
                pcall(callback, value)
            end
            
            return SliderObject
        end
        
        -- Dropdown Oluşturma
        function Tab:CreateDropdown(config)
            config = config or {}
            local dropdownName = config.Name or "Dropdown"
            local options = config.Options or {}
            local default = config.Default or options[1]
            local callback = config.Callback or function() end
            
            local opened = false
            local selected = default
            
            local DropdownFrame = Create("Frame", {
                Name = dropdownName,
                BackgroundColor3 = Theme.Secondary,
                Size = UDim2.new(1, 0, 0, 38),
                ClipsDescendants = true,
                Parent = TabContent
            })
            AddCorner(DropdownFrame, 6)
            
            local DropdownLabel = Create("TextLabel", {
                BackgroundTransparency = 1,
                Position = UDim2.new(0, 12, 0, 0),
                Size = UDim2.new(0.5, -20, 0, 38),
                Font = Enum.Font.Gotham,
                Text = dropdownName,
                TextColor3 = Theme.Text,
                TextSize = 13,
                TextXAlignment = Enum.TextXAlignment.Left,
                Parent = DropdownFrame
            })
            
            local DropdownButton = Create("TextButton", {
                Name = "Button",
                BackgroundColor3 = Theme.Primary,
                Position = UDim2.new(0.5, 0, 0, 6),
                Size = UDim2.new(0.5, -12, 0, 26),
                Font = Enum.Font.Gotham,
                Text = selected or "Seç...",
                TextColor3 = Theme.TextDark,
                TextSize = 12,
                AutoButtonColor = false,
                Parent = DropdownFrame
            })
            AddCorner(DropdownButton, 4)
            
            local DropdownArrow = Create("TextLabel", {
                BackgroundTransparency = 1,
                Position = UDim2.new(1, -25, 0, 0),
                Size = UDim2.new(0, 20, 1, 0),
                Font = Enum.Font.GothamBold,
                Text = "▼",
                TextColor3 = Theme.TextDark,
                TextSize = 10,
                Parent = DropdownButton
            })
            
            local OptionsContainer = Create("Frame", {
                Name = "Options",
                BackgroundTransparency = 1,
                Position = UDim2.new(0, 12, 0, 42),
                Size = UDim2.new(1, -24, 0, #options * 28),
                Parent = DropdownFrame
            })
            
            local OptionsLayout = Create("UIListLayout", {
                Padding = UDim.new(0, 3),
                Parent = OptionsContainer
            })
            
            for _, option in pairs(options) do
                local OptionButton = Create("TextButton", {
                    Name = option,
                    BackgroundColor3 = Theme.Primary,
                    Size = UDim2.new(1, 0, 0, 25),
                    Font = Enum.Font.Gotham,
                    Text = option,
                    TextColor3 = Theme.TextDark,
                    TextSize = 12,
                    AutoButtonColor = false,
                    Parent = OptionsContainer
                })
                AddCorner(OptionButton, 4)
                
                OptionButton.MouseEnter:Connect(function()
                    Tween(OptionButton, {BackgroundColor3 = Theme.Accent}, 0.2)
                    Tween(OptionButton, {TextColor3 = Theme.Text}, 0.2)
                end)
                
                OptionButton.MouseLeave:Connect(function()
                    Tween(OptionButton, {BackgroundColor3 = Theme.Primary}, 0.2)
                    Tween(OptionButton, {TextColor3 = Theme.TextDark}, 0.2)
                end)
                
                OptionButton.MouseButton1Click:Connect(function()
                    selected = option
                    DropdownButton.Text = option
                    opened = false
                    Tween(DropdownFrame, {Size = UDim2.new(1, 0, 0, 38)}, 0.2)
                    Tween(DropdownArrow, {Rotation = 0}, 0.2)
                    pcall(callback, option)
                end)
            end
            
            DropdownButton.MouseButton1Click:Connect(function()
                opened = not opened
                if opened then
                    Tween(DropdownFrame, {Size = UDim2.new(1, 0, 0, 48 + #options * 28)}, 0.2)
                    Tween(DropdownArrow, {Rotation = 180}, 0.2)
                else
                    Tween(DropdownFrame, {Size = UDim2.new(1, 0, 0, 38)}, 0.2)
                    Tween(DropdownArrow, {Rotation = 0}, 0.2)
                end
            end)
            
            local DropdownObject = {}
            function DropdownObject:Set(option)
                selected = option
                DropdownButton.Text = option
                pcall(callback, option)
            end
            
            function DropdownObject:Refresh(newOptions)
                options = newOptions
                for _, child in pairs(OptionsContainer:GetChildren()) do
                    if child:IsA("TextButton") then
                        child:Destroy()
                    end
                end
                
                OptionsContainer.Size = UDim2.new(1, -24, 0, #options * 28)
                
                for _, option in pairs(options) do
                    local OptionButton = Create("TextButton", {
                        Name = option,
                        BackgroundColor3 = Theme.Primary,
                        Size = UDim2.new(1, 0, 0, 25),
                        Font = Enum.Font.Gotham,
                        Text = option,
                        TextColor3 = Theme.TextDark,
                        TextSize = 12,
                        AutoButtonColor = false,
                        Parent = OptionsContainer
                    })
                    AddCorner(OptionButton, 4)
                    
                    OptionButton.MouseButton1Click:Connect(function()
                        selected = option
                        DropdownButton.Text = option
                        opened = false
                        Tween(DropdownFrame, {Size = UDim2.new(1, 0, 0, 38)}, 0.2)
                        Tween(DropdownArrow, {Rotation = 0}, 0.2)
                        pcall(callback, option)
                    end)
                end
            end
            
            return DropdownObject
        end
        
        -- TextBox Oluşturma
        function Tab:CreateInput(config)
            config = config or {}
            local inputName = config.Name or "Input"
            local placeholder = config.Placeholder or "Yazın..."
            local callback = config.Callback or function() end
            
            local InputFrame = Create("Frame", {
                Name = inputName,
                BackgroundColor3 = Theme.Secondary,
                Size = UDim2.new(1, 0, 0, 38),
                Parent = TabContent
            })
            AddCorner(InputFrame, 6)
            
            local InputLabel = Create("TextLabel", {
                BackgroundTransparency = 1,
                Position = UDim2.new(0, 12, 0, 0),
                Size = UDim2.new(0.4, -20, 1, 0),
                Font = Enum.Font.Gotham,
                Text = inputName,
                TextColor3 = Theme.Text,
                TextSize = 13,
                TextXAlignment = Enum.TextXAlignment.Left,
                Parent = InputFrame
            })
            
            local TextBox = Create("TextBox", {
                Name = "TextBox",
                BackgroundColor3 = Theme.Primary,
                Position = UDim2.new(0.4, 0, 0.5, -13),
                Size = UDim2.new(0.6, -12, 0, 26),
                Font = Enum.Font.Gotham,
                PlaceholderText = placeholder,
                PlaceholderColor3 = Theme.TextDark,
                Text = "",
                TextColor3 = Theme.Text,
                TextSize = 12,
                ClearTextOnFocus = false,
                Parent = InputFrame
            })
            AddCorner(TextBox, 4)
            
            TextBox.FocusLost:Connect(function(enterPressed)
                if enterPressed then
                    pcall(callback, TextBox.Text)
                end
            end)
            
            local InputObject = {}
            function InputObject:Set(text)
                TextBox.Text = text
            end
            
            return InputObject
        end
        
        -- Keybind Oluşturma
        function Tab:CreateKeybind(config)
            config = config or {}
            local keybindName = config.Name or "Keybind"
            local default = config.Default or Enum.KeyCode.Unknown
            local callback = config.Callback or function() end
            
            local currentKey = default
            local listening = false
            
            local KeybindFrame = Create("Frame", {
                Name = keybindName,
                BackgroundColor3 = Theme.Secondary,
                Size = UDim2.new(1, 0, 0, 38),
                Parent = TabContent
            })
            AddCorner(KeybindFrame, 6)
            
            local KeybindLabel = Create("TextLabel", {
                BackgroundTransparency = 1,
                Position = UDim2.new(0, 12, 0, 0),
                Size = UDim2.new(1, -90, 1, 0),
                Font = Enum.Font.Gotham,
                Text = keybindName,
                TextColor3 = Theme.Text,
                TextSize = 13,
                TextXAlignment = Enum.TextXAlignment.Left,
                Parent = KeybindFrame
            })
            
            local KeybindButton = Create("TextButton", {
                Name = "KeybindButton",
                BackgroundColor3 = Theme.Primary,
                Position = UDim2.new(1, -80, 0.5, -13),
                Size = UDim2.new(0, 70, 0, 26),
                Font = Enum.Font.GothamBold,
                Text = currentKey.Name,
                TextColor3 = Theme.Accent,
                TextSize = 11,
                AutoButtonColor = false,
                Parent = KeybindFrame
            })
            AddCorner(KeybindButton, 4)
            
            KeybindButton.MouseButton1Click:Connect(function()
                listening = true
                KeybindButton.Text = "..."
                Tween(KeybindButton, {BackgroundColor3 = Theme.Accent}, 0.2)
                Tween(KeybindButton, {TextColor3 = Theme.Text}, 0.2)
            end)
            
            UserInputService.InputBegan:Connect(function(input, gameProcessed)
                if listening then
                    if input.UserInputType == Enum.UserInputType.Keyboard then
                        currentKey = input.KeyCode
                        KeybindButton.Text = input.KeyCode.Name
                        listening = false
                        Tween(KeybindButton, {BackgroundColor3 = Theme.Primary}, 0.2)
                        Tween(KeybindButton, {TextColor3 = Theme.Accent}, 0.2)
                    end
                elseif input.KeyCode == currentKey and not gameProcessed then
                    pcall(callback)
                end
            end)
            
            local KeybindObject = {}
            function KeybindObject:Set(key)
                currentKey = key
                KeybindButton.Text = key.Name
            end
            
            return KeybindObject
        end
        
        -- ColorPicker Oluşturma
        function Tab:CreateColorPicker(config)
            config = config or {}
            local pickerName = config.Name or "Color Picker"
            local default = config.Default or Color3.fromRGB(255, 255, 255)
            local callback = config.Callback or function() end
            
            local currentColor = default
            local opened = false
            
            local ColorFrame = Create("Frame", {
                Name = pickerName,
                BackgroundColor3 = Theme.Secondary,
                Size = UDim2.new(1, 0, 0, 38),
                ClipsDescendants = true,
                Parent = TabContent
            })
            AddCorner(ColorFrame, 6)
            
            local ColorLabel = Create("TextLabel", {
                BackgroundTransparency = 1,
                Position = UDim2.new(0, 12, 0, 0),
                Size = UDim2.new(1, -60, 0, 38),
                Font = Enum.Font.Gotham,
                Text = pickerName,
                TextColor3 = Theme.Text,
                TextSize = 13,
                TextXAlignment = Enum.TextXAlignment.Left,
                Parent = ColorFrame
            })
            
            local ColorPreview = Create("TextButton", {
                Name = "Preview",
                BackgroundColor3 = currentColor,
                Position = UDim2.new(1, -45, 0.5, -13),
                Size = UDim2.new(0, 35, 0, 26),
                Text = "",
                AutoButtonColor = false,
                Parent = ColorFrame
            })
            AddCorner(ColorPreview, 4)
            AddStroke(ColorPreview, Theme.Border, 1)
            
            -- Color Picker Panel
            local PickerPanel = Create("Frame", {
                Name = "Panel",
                BackgroundColor3 = Theme.Primary,
                Position = UDim2.new(0, 12, 0, 45),
                Size = UDim2.new(1, -24, 0, 120),
                Parent = ColorFrame
            })
            AddCorner(PickerPanel, 6)
            
            -- Hue Slider
            local HueSlider = Create("Frame", {
                Name = "HueSlider",
                Position = UDim2.new(0, 10, 0, 100),
                Size = UDim2.new(1, -20, 0, 12),
                Parent = PickerPanel
            })
            AddCorner(HueSlider, 6)
            
            local HueGradient = Create("UIGradient", {
                Color = ColorSequence.new({
                    ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
                    ColorSequenceKeypoint.new(0.17, Color3.fromRGB(255, 255, 0)),
                    ColorSequenceKeypoint.new(0.33, Color3.fromRGB(0, 255, 0)),
                    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(0, 255, 255)),
                    ColorSequenceKeypoint.new(0.67, Color3.fromRGB(0, 0, 255)),
                    ColorSequenceKeypoint.new(0.83, Color3.fromRGB(255, 0, 255)),
                    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0))
                }),
                Parent = HueSlider
            })
            
            local HueSelector = Create("Frame", {
                Name = "Selector",
                AnchorPoint = Vector2.new(0.5, 0.5),
                BackgroundColor3 = Theme.Text,
                Position = UDim2.new(0, 0, 0.5, 0),
                Size = UDim2.new(0, 4, 1, 4),
                Parent = HueSlider
            })
            AddCorner(HueSelector, 2)
            AddStroke(HueSelector, Color3.new(0, 0, 0), 1)
            
            -- Saturation/Value Picker
            local SVPicker = Create("Frame", {
                Name = "SVPicker",
                BackgroundColor3 = Color3.fromHSV(0, 1, 1),
                Position = UDim2.new(0, 10, 0, 10),
                Size = UDim2.new(1, -20, 0, 80),
                Parent = PickerPanel
            })
            AddCorner(SVPicker, 6)
            
            local SatGradient = Create("UIGradient", {
                Color = ColorSequence.new(Color3.new(1, 1, 1), Color3.new(1, 1, 1)),
                Transparency = NumberSequence.new({
                    NumberSequenceKeypoint.new(0, 0),
                    NumberSequenceKeypoint.new(1, 1)
                }),
                Parent = SVPicker
            })
            
            local ValOverlay = Create("Frame", {
                BackgroundColor3 = Color3.new(0, 0, 0),
                BackgroundTransparency = 0,
                Size = UDim2.new(1, 0, 1, 0),
                Parent = SVPicker
            })
            AddCorner(ValOverlay, 6)
            
            local ValGradient = Create("UIGradient", {
                Color = ColorSequence.new(Color3.new(0, 0, 0), Color3.new(0, 0, 0)),
                Transparency = NumberSequence.new({
                    NumberSequenceKeypoint.new(0, 1),
                    NumberSequenceKeypoint.new(1, 0)
                }),
                Rotation = 90,
                Parent = ValOverlay
            })
            
            local SVSelector = Create("Frame", {
                Name = "Selector",
                AnchorPoint = Vector2.new(0.5, 0.5),
                BackgroundColor3 = Theme.Text,
                Position = UDim2.new(1, 0, 0, 0),
                Size = UDim2.new(0, 12, 0, 12),
                Parent = SVPicker
            })
            AddCorner(SVSelector, 6)
            AddStroke(SVSelector, Color3.new(0, 0, 0), 2)
            
            local h, s, v = default:ToHSV()
            
            local function UpdateColor()
                currentColor = Color3.fromHSV(h, s, v)
                ColorPreview.BackgroundColor3 = currentColor
                SVPicker.BackgroundColor3 = Color3.fromHSV(h, 1, 1)
                pcall(callback, currentColor)
            end
            
            ColorPreview.MouseButton1Click:Connect(function()
                opened = not opened
                if opened then
                    Tween(ColorFrame, {Size = UDim2.new(1, 0, 0, 175)}, 0.2)
                else
                    Tween(ColorFrame, {Size = UDim2.new(1, 0, 0, 38)}, 0.2)
                end
            end)
            
            -- Hue kontrolü
            local draggingHue = false
            HueSlider.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    draggingHue = true
                end
            end)
            HueSlider.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    draggingHue = false
                end
            end)
            
            -- SV kontrolü
            local draggingSV = false
            SVPicker.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    draggingSV = true
                end
            end)
            SVPicker.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    draggingSV = false
                end
            end)
            
            UserInputService.InputChanged:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseMovement then
                    if draggingHue then
                        local pos = math.clamp((input.Position.X - HueSlider.AbsolutePosition.X) / HueSlider.AbsoluteSize.X, 0, 1)
                        h = pos
                        HueSelector.Position = UDim2.new(pos, 0, 0.5, 0)
                        UpdateColor()
                    elseif draggingSV then
                        local posX = math.clamp((input.Position.X - SVPicker.AbsolutePosition.X) / SVPicker.AbsoluteSize.X, 0, 1)
                        local posY = math.clamp((input.Position.Y - SVPicker.AbsolutePosition.Y) / SVPicker.AbsoluteSize.Y, 0, 1)
                        s = posX
                        v = 1 - posY
                        SVSelector.Position = UDim2.new(posX, 0, posY, 0)
                        UpdateColor()
                    end
                end
            end)
            
            local ColorObject = {}
            function ColorObject:Set(color)
                h, s, v = color:ToHSV()
                currentColor = color
                ColorPreview.BackgroundColor3 = color
                SVPicker.BackgroundColor3 = Color3.fromHSV(h, 1, 1)
                HueSelector.Position = UDim2.new(h, 0, 0.5, 0)
                SVSelector.Position = UDim2.new(s, 0, 1 - v, 0)
            end
            
            return ColorObject
        end
        
        -- Label Oluşturma
        function Tab:CreateLabel(text)
            local Label = Create("TextLabel", {
                Name = "Label",
                BackgroundColor3 = Theme.Secondary,
                Size = UDim2.new(1, 0, 0, 30),
                Font = Enum.Font.Gotham,
                Text = text or "Label",
                TextColor3 = Theme.TextDark,
                TextSize = 13,
                Parent = TabContent
            })
            AddCorner(Label, 6)
            AddPadding(Label, 10)
            Label.TextXAlignment = Enum.TextXAlignment.Left
            
            local LabelObject = {}
            function LabelObject:Set(newText)
                Label.Text = newText
            end
            
            return LabelObject
        end
        
        -- Paragraph Oluşturma
        function Tab:CreateParagraph(config)
            config = config or {}
            local title = config.Title or "Başlık"
            local content = config.Content or "İçerik"
            
            local ParagraphFrame = Create("Frame", {
                Name = "Paragraph",
                BackgroundColor3 = Theme.Secondary,
                Size = UDim2.new(1, 0, 0, 60),
                Parent = TabContent
            })
            AddCorner(ParagraphFrame, 6)
            
            local ParagraphTitle = Create("TextLabel", {
                BackgroundTransparency = 1,
                Position = UDim2.new(0, 12, 0, 8),
                Size = UDim2.new(1, -24, 0, 18),
                Font = Enum.Font.GothamBold,
                Text = title,
                TextColor3 = Theme.Text,
                TextSize = 14,
                TextXAlignment = Enum.TextXAlignment.Left,
                Parent = ParagraphFrame
            })
            
            local ParagraphContent = Create("TextLabel", {
                BackgroundTransparency = 1,
                Position = UDim2.new(0, 12, 0, 28),
                Size = UDim2.new(1, -24, 0, 28),
                Font = Enum.Font.Gotham,
                Text = content,
                TextColor3 = Theme.TextDark,
                TextSize = 12,
                TextXAlignment = Enum.TextXAlignment.Left,
                TextWrapped = true,
                Parent = ParagraphFrame
            })
            
            local ParagraphObject = {}
            function ParagraphObject:Set(config)
                ParagraphTitle.Text = config.Title or title
                ParagraphContent.Text = config.Content or content
            end
            
            return ParagraphObject
        end
        
        table.insert(Window.Tabs, Tab)
        TabList.CanvasSize = UDim2.new(0, 0, 0, TabListLayout.AbsoluteContentSize.Y + 20)
        
        -- İlk tab'ı seç
        if #Window.Tabs == 1 then
            SelectTab()
        end
        
        return Tab
    end
    
    -- Tema Değiştirme
    function Window:SetTheme(newTheme)
        for key, value in pairs(newTheme) do
            if Theme[key] then
                Theme[key] = value
            end
        end
    end
    
    -- Window Destroy
    function Window:Destroy()
        Tween(MainFrame, {Size = UDim2.new(0, 0, 0, 0)}, 0.5, Enum.EasingStyle.Back, Enum.EasingDirection.In)
        task.wait(0.5)
        ScreenGui:Destroy()
    end
    
    return Window
end

return ProUI
